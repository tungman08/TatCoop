!function(){function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}return t}()({1:[function(t,e,i){"use strict";window.SlotMachine=t("./slot-machine")},{"./slot-machine":3}],2:[function(t,e,i){"use strict";var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;e.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout(function(){return n(t)},e)}},{}],3:[function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("./timer"),a=t("./raf"),u={active:0,delay:200,auto:!1,spins:5,randomize:null,onComplete:null,inViewport:!0,direction:"up",transition:"ease-in-out"},h="slotMachineNoTransition",c="slotMachineBlurFast",l="slotMachineBlurMedium",f="slotMachineBlurSlow",v="slotMachineBlurTurtle",p="slotMachineGradient",d=p;e.exports=function(){function t(e,i){r(this,t),this.element=e,this.tiles=[].slice.call(this.element.children),this.running=!1,this.stopping=!1,this.element.style.overflow="hidden",this._wrapTiles(),this._minTop=-this._fakeFirstTile.offsetHeight,this._maxTop=-this.tiles.reduce(function(t,e){return t+e.offsetHeight},0),this.changeSettings(Object.assign({},u,i)),this._setBounds(),this._resetPosition(),this.auto!==!1&&this.run()}return s(t,null,[{key:"name",get:function(){return"slotMachine"}}]),s(t,[{key:"changeSettings",value:function(t){var e=this;Object.keys(t).forEach(function(i){e[i]=t[i]})}},{key:"_wrapTiles",value:function(){var t=this;this.container=document.createElement("div"),this.container.classList.add("slotMachineContainer"),this.container.style.transition="1s ease-in-out",this.element.appendChild(this.container),this._fakeFirstTile=this.tiles[this.tiles.length-1].cloneNode(!0),this.container.appendChild(this._fakeFirstTile),this.tiles.forEach(function(e){t.container.appendChild(e)}),this._fakeLastTile=this.tiles[0].cloneNode(!0),this.container.appendChild(this._fakeLastTile)}},{key:"_setBounds",value:function(){var t=this.getTileOffset(this.active),e=this.getTileOffset(this.tiles.length),i=this.getTileOffset(this.tiles.length);this._bounds={up:{key:"up",initial:t,first:0,last:i,to:this._maxTop,firstToLast:i,lastToFirst:0},down:{key:"down",initial:t,first:e,last:0,to:this._minTop,firstToLast:i,lastToFirst:0}}}},{key:"_changeTransition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.delay,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transition;this.container.style.transition=t/1e3+"s "+e}},{key:"_changeTransform",value:function(t){this.container.style.transform="matrix(1, 0, 0, 1, 0, "+t+")"}},{key:"_isGoingBackward",value:function(){return this.nextActive>this.active&&0===this.active&&this.nextActive===this.tiles.length-1}},{key:"_isGoingForward",value:function(){return this.nextActive<=this.active&&this.active===this.tiles.length-1&&0===this.nextActive}},{key:"getTileOffset",value:function(t){for(var e=0,i=0;i<t;i++)e+=this.tiles[i].offsetHeight;return this._minTop-e}},{key:"_resetPosition",value:function(t){this.container.classList.toggle(h),this._changeTransform(isNaN(t)?this.bounds.initial:t),this.container.offsetHeight,this.container.classList.toggle(h)}},{key:"prev",value:function(){return this.nextActive=this.prevIndex,this.running=!0,this.stop(),this.nextActive}},{key:"next",value:function(){return this.nextActive=this.nextIndex,this.running=!0,this.stop(),this.nextActive}},{key:"_getDelayFromSpins",value:function(t){var e=this.delay;switch(this.transition="linear",t){case 1:e/=.5,this.transition="ease-out",this._animationFX=v;break;case 2:e/=.75,this._animationFX=f;break;case 3:e/=1,this._animationFX=l;break;case 4:e/=1.25,this._animationFX=l;break;default:e/=1.5,this._animationFX=c}return e}},{key:"shuffle",value:function(t,e){var i=this;if("function"==typeof t&&(e=t),this.running=!0,this.visible||this.inViewport!==!0){var n=this._getDelayFromSpins(t);this._changeTransition(n),this._changeTransform(this.bounds.to),a(function(){if(!i.stopping&&i.running){var n=t-1;i._resetPosition(i.bounds.first),n>1?i.shuffle(n,e):i.stop(e)}},n)}else this.stop(e);return this.nextActive}},{key:"stop",value:function(t){var e=this;if(!this.running||this.stopping)return this.nextActive;this.running=!0,this.stopping=!0,Number.isInteger(this.nextActive)||(this.nextActive=this.custom),this._isGoingBackward()?this._resetPosition(this.bounds.firstToLast):this._isGoingForward()&&this._resetPosition(this.bounds.lastToFirst),this.active=this.nextActive;var i=this._getDelayFromSpins(1);return this._changeTransition(i),this._animationFX=d,this._changeTransform(this.getTileOffset(this.active)),a(function(){e.stopping=!1,e.running=!1,e.nextActive=null,"function"==typeof e.onComplete&&e.onComplete(e.active),"function"==typeof t&&t.apply(e,[e.active])},i),this.active}},{key:"run",value:function(){var t=this;this.running||(this._timer=new o(function(){t.visible||t.inViewport!==!0?t.shuffle(t.spins,function(){t._timer.reset()}):a(function(){t._timer.reset()},500)},this.auto))}},{key:"destroy",value:function(){var t=this;this._fakeFirstTile.remove(),this._fakeLastTile.remove(),this.$tiles.unwrap(),this.tiles.forEach(function(e){t.element.appendChild(e)}),this.container.remove()}},{key:"active",get:function(){return this._active},set:function(t){t=Number(t),(t<0||t>=this.tiles.length||isNaN(t))&&(t=0),this._active=t}},{key:"direction",get:function(){return this._direction},set:function(t){this.running||(this._direction="down"===t?"down":"up")}},{key:"bounds",get:function(){return this._bounds[this._direction]}},{key:"transition",get:function(){return this._transition},set:function(t){this._transition=t||"ease-in-out"}},{key:"visibleTile",get:function(){var t=this.tiles[0].offsetHeight,e=this.container.style.transform||"",i=/^matrix\(-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?(-?\d+)\)$/,n=parseInt(e.replace(i,"$1"),10);return Math.abs(Math.round(n/t))-1}},{key:"random",get:function(){return Math.floor(Math.random()*this.tiles.length)}},{key:"custom",get:function(){var t=void 0;if(this.randomize){var e=this.randomize(this.active);(e<0||e>=this.tiles.length)&&(e=0),t=e}else t=this.random;return t}},{key:"_prevIndex",get:function(){var t=this.active-1;return t<0?this.tiles.length-1:t}},{key:"_nextIndex",get:function(){var t=this.active+1;return t<this.tiles.length?t:0}},{key:"prevIndex",get:function(){return"up"===this.direction?this._nextIndex:this._prevIndex}},{key:"nextIndex",get:function(){return"up"===this.direction?this._prevIndex:this._nextIndex}},{key:"visible",get:function(){var t=this.element.getBoundingClientRect(),e=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,n=t.top<=e&&t.top+t.height>=0,r=t.left<=i&&t.left+t.width>=0;return n&&r}},{key:"_animationFX",set:function(t){var e=this,i=this.delay/4;a(function(){[].concat(n(e.tiles),[e._fakeLastTile,e._fakeFirstTile]).forEach(function(e){e.classList.remove(c,l,f,v),t!==d&&e.classList.add(t)}),t===d?e.container.classList.remove(p):e.container.classList.add(p)},i)}}]),t}()},{"./raf":2,"./timer":4}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.exports=function(){function t(e,i){return n(this,t),this.cb=e,this.initialDelay=i,this.delay=i,this.startTime=null,this.timer=null,this.running=!1,this.resume(),this}return r(t,[{key:"_start",value:function(){var t=this;this.timer=setTimeout(function(){t.running=!1,t.cb(t)},this.delay)}},{key:"cancel",value:function(){this.running=!1,clearTimeout(this.timer)}},{key:"pause",value:function(){this.running&&(this.delay-=(new Date).getTime()-this.startTime,this.cancel())}},{key:"resume",value:function(){this.running||(this.running=!0,this.startTime=(new Date).getTime(),this._start())}},{key:"reset",value:function(){this.cancel(),this.delay=this.initialDelay,this._start()}},{key:"add",value:function(t){this.pause(),this.delay+=t,this.resume()}}]),t}()},{}]},{},[1])(function(){function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}return t})()({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){var i=void 0;return $.data(t[0],"plugin_"+SlotMachine.name)?i=$.data(t[0],"plugin_"+SlotMachine.name):(i=new h(t[0],e),$.data(t[0],"plugin_"+i.name,i)),i}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:c(r,e,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},h=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"destroy",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),$.data(this.element[0],"plugin_"+this.name,null)}}]),e}(SlotMachine);$.fn[SlotMachine.name]=function(t){var e=void 0;if(1===this.length)e=o(this,t);else{var i=this;e=$.map(i,function(e,n){var r=i.eq(n);return o(r[0],t)})}return e}},{}]},{},[1]);